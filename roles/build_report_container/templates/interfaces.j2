<!-- INTERNAL TABLE FOR INTERFACES -->
<div id="accordion">
<div>
<h3>Interfaces - Admin Status/MTU/Duplex/Speed</h3>
<div class="net_content">
{% if hostvars[network_switch]['ansible_network_resources']['interfaces'] is defined and hostvars[network_switch]['ansible_network_resources']['interfaces']|length > 0  %}
<table id="subtable">
    <thead>
        <tr>
            <th>Interface Name</th>
            <th>Description</th>
            <th>Admin Status</th>
            <th>Duplex</th>
            <th>MTU</th>
            <th>Speed</th>
        </tr>
    </thead>
    <tbody>
{% for interface in hostvars[network_switch]['ansible_network_resources']['interfaces'] %}
        <tr>
            <td>{{interface['name']}}</td>
            <td>{{interface['description']|default("none")}}</td>
            <td>
                {% if interface['enabled'] %}
                <span style="color: green; font-weight: bold;">UP</span>
                {% else %}
                <span style="color: red; font-weight: bold;">DOWN</span>
                {% endif %}
            </td>
            <td>{{interface['duplex']|default("default")}}</td>
            <td>{{interface['mtu']|default("default")}}</td>
            <td>{{interface['speed']|default("default")}}</td>
        </tr>
{% endfor %}
    </tbody>
</table>

<!-- Interface Status Summary -->
{% set total_interfaces = hostvars[network_switch]['ansible_network_resources']['interfaces'] | length %}
{% set admin_up = hostvars[network_switch]['ansible_network_resources']['interfaces'] | selectattr('enabled', 'equalto', true) | list | length %}
{% set admin_down = total_interfaces - admin_up %}

<div style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 4px;">
    <strong>Interface Summary:</strong>
    Total: {{ total_interfaces }} | 
    Admin UP: <span style="color: green;">{{ admin_up }}</span> | 
    Admin DOWN: <span style="color: red;">{{ admin_down }}</span>
</div>

{% elif hostvars[network_switch]['ansible_network_resources']['interfaces'] is defined and hostvars[network_switch]['ansible_network_resources']['interfaces']|length == 0 %}
No interfaces configured on this device
{% else %}
No Interface information available
{% endif %}
</div>
</div>
</div>
<!-- END INTERNAL TABLE FOR INTERFACES -->
